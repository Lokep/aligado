---
order: 3
toc: menu
title: Vue更新机制
---

# Vue 更新机制

1. 说一下当我们在 vue 中同时对多个数据进行了操作，dom 是更新多次还是更新一次？
2. 那它是怎么知道我后续没有更新的操作了呢？
3. 那如果我一个操作是正常的同步操作，另一个操作放在 setTimeout 里面，会更新几次？

当我们在 vue 中同时对多个数据进行了操作，dom 是更新多次还是更新一次？（一次,页面更新是宏任务，下一次宏任务执行前执行 nextTick 判断是否微任务清空，如果微任务队列已经清空，在下一次宏任务执行之前回去触发更新的操作）

那如果我一个操作是正常的同步操作，另一个操作放在 setTimeout 里面，会更新几次？（2 次）

Vue 在更新 DOM 时是异步执行的。只要侦听到数据变化，Vue 将开启一个队列，并缓冲在同一事件循环中发生的所有数据变更。如果同一个 watcher 被多次触发，只会被推入到队列中一次。
